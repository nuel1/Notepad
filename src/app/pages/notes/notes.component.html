<div class="main grid">
  <div
    class="sidebar"
    [ngClass]="{
      mobile_view_single_display: !currentRoutePathIsNotes,
      laptop_view_multi_display: !(isMobile | async) || currentRoutePathIsNotes
    }"
  >
    <h1>My Notes</h1>
    <button
      class="form-modal-toggle-button flex align-c"
      (click)="formOpen = true"
    >
      <ng-icon name="ionAddOutline"></ng-icon>
      <span>Add new note</span>
    </button>
    <ng-container *ngIf="noteService.notes">
      <ng-container *ngFor="let note of noteService.notes; trackById">
        <note-card
          [note]="note"
          (deleteNote)="deleteNote($event)"
          [routerLink]="'/notes/note/preview/' + note.id"
        ></note-card>
      </ng-container>
    </ng-container>
  </div>

  <div
    class="editor-container"
    [ngClass]="{
      mobile_view_single_display: currentRoutePathIsNotes,
      laptop_view_multi_display: !(isMobile | async)
    }"
  >
    <router-outlet></router-outlet>
  </div>
  <ng-container *ngIf="formOpen">
    <note-form
      (cancel)="formOpen = $event"
      (createNote)="createNote($event); formOpen = false"
    ></note-form>
  </ng-container>
</div>
